\section{Profiling with \pkg{fpmpi}}
\label{sec:ex_fpmpi}


\subsection{Demo of \pkg{pbdMPI}}

The \code{allreduce.r} is originally in \pkg{pbdMPI/demo/} and can be profiled
by
\begin{Code}
mpiexec -np 2 Rscript -e "demo(allreduce,'pbdMPI',ask=F,echo=F)"
\end{Code}
which will provide an output file \code{fpmpi_profile.txt}.
We can read this file back into \proglang{R} and analyze it as next 
\begin{Output}
> library(pbdPROF)
> da <- read.prof("fpmpi_profile.txt", lib.type = "fpmpi")
> (da.out <- parse.prof(da))
        Routine Calls     Time Data.Sent SyncTime
1 MPI_Allreduce    10 0.000121       188 0.000327
2   MPI_Barrier    21  0.00203      NULL     NULL
\end{Output}
Two MPI \proglang{C} functions \code{MPI_Allreduce} and \code{MPI_Barrier} are
evoked inside this \proglang{R} code. The \code{MPI_Allreduce} is called $10$
times, span $0.000121$ seconds, and 188 bytes are sent.
The \code{MPI_Barrier} is called $21$ times and span $0.00203$ seconds.


\subsection{Demo of \pkg{pbdDMAT}}

\code{pbdDMAT/demo/svd.r} in \pkg{pbdDMAT}~\citep{Schmidt2012pbdBASEpackage}

$<<\mbox{TBD}>>$


\subsection{Demo of \pkg{Rmpi}}

\code{Rmpi/demo/masterslavePI.R} in \pkg{Rmpi}

$<<\mbox{TBD}>>$
